// Auto-generated by stub_generator - do not edit manually
// Handler stub implementations for MainWindow

#include "utils.h"

bool MainWindow::doActivate(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    if (!commandLineEdit->text().isEmpty()) {
        currentFilePanel()->activate(QString::fromStdString(fileutils::trim(commandLineEdit->text().toStdString())));
        doClearAndReturnToPanel(obj, keyEvent);
    } else {
        currentFilePanel()->trigger(currentPanelName());
    }
    return true;
}

bool MainWindow::doAddTab(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doAddTab";
    return false;
}

bool MainWindow::doCompareDirectories(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doCompareDirectories";
    return false;
}

bool MainWindow::doCopy(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doCopy";
    return false;
}

bool MainWindow::doCopyInPlace(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doCopyInPlace";
    return false;
}

bool MainWindow::doCurrentDirToCommandLine(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    QString currentPath = currentFilePanel()->currentPath;
    commandLineEdit->setText(commandLineEdit->text() + QString::fromStdString(fileutils::escapePathForShell(currentPath.toStdString()))+" ");
    return true;
}

bool MainWindow::doCurrentNameToCommandLine(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    commandLineEdit->setText(commandLineEdit->text() + QString::fromStdString(fileutils::escapePathForShell(currentPanelName().toStdString()))+" ");
    return true;
}

bool MainWindow::doCurrentPathToCommandLine(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    commandLineEdit->setText(commandLineEdit->text() + QString::fromStdString(fileutils::escapePathForShell(currentPanelPath().toStdString()))+" ");
    return true;
}

bool MainWindow::doDirHotlist(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    showFavoriteDirsMenu(m_activeSide);
    return true;
}

bool MainWindow::doDirHotlistConfig(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doDirHotlistConfig";
    return false;
}

bool MainWindow::doEdit(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    auto fullPath = currentPanelPath();
    QFileInfo info(fullPath);
    if (!info.isFile()) {
        // selected is directory - nothing
        return true;
    }
    if (!editorFrame)
        editorFrame = new EditorFrame(this);
    editorFrame->openFile(fullPath);
    editorFrame->show();
    editorFrame->raise();
    editorFrame->activateWindow();
    return true;
}

bool MainWindow::doEditNew(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);

    auto suggestedName = currentPanelName();

    bool ok = false;
    QString name = QInputDialog::getText(
        this,
        tr("Create new directory"),
        tr("Input new name:"),
        QLineEdit::Normal,
        suggestedName,
        &ok
    );

    if (!ok)
        return false;
    QString fullPath;
    if (!name.isEmpty()) {
        QDir dir(currentFilePanel()->currentPath);
        fullPath = dir.absoluteFilePath(name);
    }
    if (!editorFrame)
        editorFrame = new EditorFrame(this);
    editorFrame->openFile(fullPath);
    editorFrame->show();
    editorFrame->raise();
    editorFrame->activateWindow();
    return true;
}

bool MainWindow::doExtractFiles(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doExtractFiles";
    return false;
}

bool MainWindow::doFocusCommandLine(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    commandLineEdit->selectAll();
    commandLineEdit->setFocus();
    return true;
}

bool MainWindow::doMakeDirectoryOpposite(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doMakeDirectoryOpposite";
    return false;
}

bool MainWindow::doMove(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doMove";
    return false;
}

bool MainWindow::doPackFiles(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doPackFiles";
    return false;
}

bool MainWindow::doRemoveTab(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doRemoveTab";
    return false;
}

bool MainWindow::doRename(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doRename";
    return false;
}

bool MainWindow::doReturnToPanel(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    currentFilePanel()->setFocus();
    return true;
}

bool MainWindow::doClearAndReturnToPanel(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    commandLineEdit->clear();
    currentFilePanel()->setFocus();
    return true;
}

bool MainWindow::doSearchGlobal(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);

    QString startPath = currentFilePanel()->currentPath;

    SearchDialog* dialog = new SearchDialog(startPath, this);
    dialog->setAttribute(Qt::WA_DeleteOnClose);
    dialog->show();

    return true;
}

bool MainWindow::doSwapPanels(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doSwapPanels";
    return false;
}

bool MainWindow::doSwitchSide(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    auto new_panel = oppositeFilePanel();
    if (new_panel) new_panel->setFocus();
    return true;
}

bool MainWindow::doTestArchives(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);
    qDebug() << "handler: doTestArchives";
    return false;
}

bool MainWindow::doView(QObject *obj, QKeyEvent *keyEvent) {
    Q_UNUSED(obj);
    Q_UNUSED(keyEvent);

    auto fullPath = currentPanelPath();
    QFileInfo info(fullPath);
    if (!info.isFile()) {
        // selected is directory - nothing
        return true;
    }
    if (!viewerFrame)
        viewerFrame = new ViewerFrame(fullPath);
    viewerFrame->show();
    viewerFrame->raise();
    viewerFrame->activateWindow();
    return true;
}

